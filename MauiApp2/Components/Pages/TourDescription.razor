@page "/tour/{tourid}"
@if (jsonData != null)
{
    <MudCarousel  Style="height:350px; width:100%;" ShowArrows="true" ShowBullets="false" EnableSwipeGesture="true" AutoCycle="true" TData="object">
        @foreach (var img in jsonData.data.hotel.images)
        {
            <MudCarouselItem Transition="@Transition.Slide">
                <MudImage ObjectFit="@ObjectFit.Cover"  Src="@((string)img.big)" Height="550" />
            </MudCarouselItem>
        }
      
 
    </MudCarousel>
    @jsonData
}

@code {
    [Parameter]
    public string tourid { get; set; }
    private dynamic? jsonData = null;
    protected override async Task OnInitializedAsync()
    {
        try
        {
            var httpClient = new HttpClient();

            var response = await httpClient.GetAsync($"https://tourvisor.ru/xml/modact.php?currency=3&tourid={tourid}&referrer=https://travelstory.kz");
            response.EnsureSuccessStatusCode();
            var jsonString = await response.Content.ReadAsStringAsync();
            var jsonString2 = System.Web.HttpUtility.HtmlDecode(jsonString);
            jsonData = JsonConvert.DeserializeObject(jsonString2);
            var a = jsonData.result.requestid;
        }
        catch (Exception e)
        {
            //TODO: А хуй тебе а не карточки
        }

    }
}
